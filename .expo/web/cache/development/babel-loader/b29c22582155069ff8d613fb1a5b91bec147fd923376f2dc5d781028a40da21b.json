{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AppRegistry from \"react-native-web/dist/exports/AppRegistry\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { numberWithCommas } from \"../common\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar PieChart = function (_React$Component) {\n  _inherits(PieChart, _React$Component);\n  var _super = _createSuper(PieChart);\n  function PieChart(props) {\n    var _this;\n    _classCallCheck(this, PieChart);\n    _this = _super.call(this, props);\n    _this.drawPie = _this.drawPie.bind(_assertThisInitialized(_this));\n    _this.initData = _this.initData.bind(_assertThisInitialized(_this));\n    _this.handleEvent = _this.handleEvent.bind(_assertThisInitialized(_this));\n    _this.state = {\n      pieSize: [],\n      piePos: [],\n      oldPiePos: [],\n      pieIndex: [],\n      dataSum: 0,\n      currentPieIdx: -1,\n      evtX: 0,\n      evtY: 0,\n      selectedIndex: -1,\n      labels: [],\n      colors: []\n    };\n    return _this;\n  }\n  _createClass(PieChart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initData(this.props.data);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.data !== this.props.data) {\n        this.initData(nextProps.data);\n      }\n    }\n  }, {\n    key: \"initData\",\n    value: function initData(data) {\n      var colors = [];\n      var labels = [];\n      if (data[0].color) {\n        for (var i = 0; i < data.length; i++) {\n          colors[i] = data[i].color;\n        }\n      } else {\n        for (var _i = 0; _i < data.length; _i++) {\n          colors[_i] = this.props.colors[_i % this.props.colors.length];\n        }\n        if (data.length === this.props.colors.length + 1) {\n          colors[data.length - 1] = this.props.colors[3];\n        }\n      }\n      if (data[0].label) {\n        for (var _i2 = 0; _i2 < data.length; _i2++) {\n          labels[_i2] = data[_i2].label;\n        }\n      } else {\n        for (var _i3 = 0; _i3 < data.length; _i3++) {\n          labels[_i3] = null;\n        }\n      }\n      var sum = 0;\n      for (var _i4 = 0; _i4 < data.length; _i4++) {\n        sum += data[_i4].value;\n      }\n      var pieSize = [];\n      var pieIndex = [];\n      var angles = [];\n      var index = 0;\n      var tempAngle = 0;\n      for (var _i5 = 0; _i5 < data.length; _i5++) {\n        var angle = Math.round(data[_i5].value / sum * 360);\n        angles.push(tempAngle + angle);\n        tempAngle = tempAngle + angle;\n        if (data[_i5].value / sum * 2 * Math.PI > Math.PI) {\n          pieIndex.push(index);\n          pieIndex.push(index);\n          pieSize.push(Math.PI);\n          pieSize.push(data[_i5].value / sum * 2 * Math.PI - Math.PI);\n        } else {\n          pieIndex.push(index);\n          pieSize.push(data[_i5].value / sum * 2 * Math.PI);\n        }\n        index++;\n      }\n      var piePos = [];\n      piePos[0] = 0;\n      for (var _i6 = 1; _i6 < pieSize.length; _i6++) {\n        piePos[_i6] = piePos[_i6 - 1] + pieSize[_i6 - 1];\n      }\n      var oldPiePos = [];\n      for (var _i7 = 0; _i7 < this.props.data.length; _i7++) {\n        oldPiePos[_i7] = -1;\n      }\n      for (var _i8 = 0; _i8 < piePos.length; _i8++) {\n        if (oldPiePos[pieIndex[_i8]] === -1) {\n          oldPiePos[pieIndex[_i8]] = piePos[_i8];\n        }\n      }\n      this.setState({\n        labels: labels,\n        colors: colors,\n        pieSize: pieSize,\n        piePos: piePos,\n        selectedIndex: -1,\n        pieIndex: pieIndex,\n        angles: angles,\n        dataSum: sum,\n        oldPiePos: oldPiePos\n      });\n    }\n  }, {\n    key: \"handleEventOld\",\n    value: function handleEventOld(evt) {\n      var _this2 = this;\n      var pageX = evt.nativeEvent.pageX;\n      var pageY = evt.nativeEvent.pageY;\n      var angles = this.state.angles;\n      var size = this.props.size;\n      this.refs.test.measure(function (fx, fy, width, height, px, py) {\n        var evtX = pageX - px;\n        var evtY = pageY - py;\n        var originX = pageX - px - size / 2;\n        var originY = size / 2 - (pageY - py);\n        var rSquare = Math.pow(originX, 2) + Math.pow(originY, 2);\n        var dx = originX;\n        var dy = -1 * originY;\n        var rad = Math.atan2(dy, dx);\n        var degree = rad * 180 / Math.PI;\n        if (degree < 0) degree = 360 + degree;\n        var inPie = rSquare < Math.pow(size / 2, 2);\n        var selectedIndex = -1;\n        if (inPie) {\n          for (var i = 0; i < angles.length; i++) {\n            if (degree < angles[i]) {\n              selectedIndex = i;\n              break;\n            }\n          }\n        }\n        _this2.setState({\n          evtX: evtX,\n          evtY: evtY,\n          originX: originX,\n          originY: originY,\n          inPie: inPie,\n          selectedAngle: degree,\n          selectedRad: rad,\n          selectedIndex: selectedIndex\n        });\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(idx) {\n      this.setState({\n        currentPieIdx: this.state.pieIndex[idx]\n      });\n    }\n  }, {\n    key: \"handleEventBak\",\n    value: function handleEventBak(evt, idx) {\n      var _this3 = this;\n      var pageX = evt.nativeEvent.pageX;\n      var pageY = evt.nativeEvent.pageY;\n      this.setState({\n        currentPieIdx: idx\n      });\n      this.refs.test.measure(function (fx, fy, width, height, px, py) {\n        _this3.setState({\n          evtX: pageX - px,\n          evtY: pageY - py\n        });\n      });\n    }\n  }, {\n    key: \"drawInfoOld\",\n    value: function drawInfoOld(x, y) {\n      var size = this.props.size;\n      var dist = Math.pow(Math.pow(x, 2) + Math.pow(y, 2), 0.5);\n      if (dist <= size) {\n        var index = -1;\n        var pos = x > 0 ? Math.PI / 2 - Math.asin(y / dist) : Math.PI * 3 / 2 + Math.asin(y / dist);\n        for (var i = 0; i < this.state.piePos.length; i++) {\n          if (this.state.piePos[i] > pos) break;\n          index++;\n        }\n        var marginLeft = x;\n        var marginTop = -y;\n        return _jsx(View, {\n          style: {\n            width: 100,\n            height: 80,\n            marginLeft: marginLeft,\n            marginTop: marginTop\n          },\n          children: _jsxs(Text, {\n            children: [Math.round(this.state.pieSize[index] / (2 * Math.PI) * 10000) / 100 + '\\n' + this.state.value[index], \" \"]\n          })\n        });\n      }\n    }\n  }, {\n    key: \"drawInfoT\",\n    value: function drawInfoT(index) {\n      var size = this.props.size;\n      var pos = (this.state.oldPiePos[index] + this.state.oldPiePos[(index + 1) % this.state.oldPiePos.length]) / 2;\n      if (index + 1 === this.props.data.length) {\n        pos += Math.PI;\n      }\n      var x = size / 4 * Math.cos(-pos) + size / 2;\n      var y = -size / 4 * Math.sin(-pos) + size / 2;\n      if (index !== -1) {\n        var percentage = Math.round(this.props.data[index].value * 1000 / this.state.dataSum) / 10 + '%';\n        var valueStr = numberWithCommas(this.props.data[index].value, false);\n        return _jsx(View, {\n          style: {\n            height: size\n          },\n          children: _jsxs(View, {\n            style: {\n              marginLeft: x - 60,\n              marginTop: y - 40,\n              borderWidth: 1,\n              borderRadius: 5,\n              padding: 5,\n              borderColor: '#e0e0e0',\n              backgroundColor: '#FFFFFF'\n            },\n            children: [_jsxs(View, {\n              style: {\n                flexDirection: 'row',\n                paddingLeft: 5,\n                alignItems: 'center'\n              },\n              children: [_jsx(View, {\n                style: {\n                  width: 10,\n                  height: 5,\n                  marginRight: 3,\n                  borderRadius: 2,\n                  backgroundColor: this.state.colors[index]\n                }\n              }), _jsx(Text, {\n                style: styles.tooltipTitle,\n                children: this.state.labels[index] ? this.state.labels[index] : valueStr\n              })]\n            }), _jsx(Text, {\n              style: styles.tooltipValue,\n              children: this.state.labels[index] ? valueStr + \" (\" + percentage + \")\" : percentage\n            })]\n          })\n        });\n      }\n    }\n  }, {\n    key: \"drawInfo\",\n    value: function drawInfo(index, x, y) {\n      var size = this.props.size;\n      if (index !== -1) {\n        return _jsx(View, {\n          style: {\n            width: size,\n            height: size\n          },\n          children: _jsxs(View, {\n            style: {\n              width: 60,\n              height: 80,\n              marginLeft: x - 30,\n              marginTop: y - 40,\n              borderWidth: 2,\n              borderRadius: 5,\n              borderColor: '#e0e0e0',\n              backgroundColor: '#FFFFFF'\n            },\n            children: [this.state.labels[index] !== null && _jsx(Text, {\n              children: this.state.labels[index]\n            }), _jsxs(View, {\n              style: {\n                flexDirection: 'row',\n                paddingLeft: 5,\n                alignItems: 'center'\n              },\n              children: [_jsx(View, {\n                style: {\n                  width: 10,\n                  height: 5,\n                  marginRight: 3,\n                  borderRadius: 2,\n                  backgroundColor: this.state.colors[index]\n                }\n              }), _jsx(Text, {\n                style: styles.tooltipValue,\n                children: this.props.data[index].value\n              })]\n            }), _jsx(Text, {\n              style: styles.tooltipValue,\n              children: this.props.data[index].value * 100 / this.state.dataSum + '%'\n            })]\n          })\n        });\n      }\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(rad, width) {\n      var add = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var x = (0 - width / 2) * Math.cos(rad) - (0 - width / 2) * Math.sin(rad);\n      var y = (0 - width / 2) * Math.sin(rad) + (0 - width / 2) * Math.cos(rad);\n      return [{\n        translateX: -1 * x - width / 2 + add\n      }, {\n        translateY: -1 * y - width / 2\n      }, {\n        rotate: rad + 'rad'\n      }];\n    }\n  }, {\n    key: \"drawPie\",\n    value: function drawPie(angle, color, big, idx) {\n      var size = this.props.size;\n      return _jsx(View, {\n        children: angle === 0 ? _jsx(View, {}) : angle > 1 / 2 * Math.PI ? _jsxs(View, {\n          children: [_jsx(View, {\n            style: {\n              width: size,\n              height: size / 2\n            }\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row',\n              backgroundColor: 'transparent'\n            },\n            children: [_jsx(View, {\n              style: {\n                width: size / 2,\n                height: size / 2,\n                transform: this.getTransform(Math.PI / 2, size / 2, size / 2)\n              },\n              children: _jsx(View, {\n                style: {},\n                children: this.drawPie(angle - 1 / 2 * Math.PI, color, false, idx)\n              })\n            }), _jsx(View, {\n              style: {\n                opacity: 1,\n                width: size / 2,\n                height: size / 2\n              },\n              children: this.drawPie(1 / 2 * Math.PI, color, false, idx)\n            })]\n          })]\n        }) : big ? _jsxs(View, {\n          style: {\n            width: size,\n            height: size\n          },\n          children: [_jsx(View, {\n            style: {\n              width: size,\n              height: size / 2\n            }\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(View, {\n              style: {\n                width: size / 2,\n                height: size / 2\n              }\n            }), _jsx(View, {\n              style: {\n                width: size / 2,\n                height: size / 2\n              },\n              children: _jsx(View, {\n                style: {\n                  width: size / 2,\n                  height: size / 2,\n                  borderBottomRightRadius: size / 2,\n                  backgroundColor: color,\n                  transform: this.getTransform(angle - Math.PI / 2, size / 2)\n                }\n              })\n            })]\n          })]\n        }) : _jsx(View, {\n          style: {\n            width: size / 2,\n            height: size / 2\n          },\n          children: _jsx(View, {\n            style: {\n              width: size / 2,\n              height: size / 2\n            },\n            children: _jsx(View, {\n              style: {\n                width: size / 2,\n                height: size / 2,\n                borderBottomRightRadius: size / 2,\n                backgroundColor: color,\n                borderWidth: 0,\n                borderColor: color,\n                transform: this.getTransform(angle - Math.PI / 2, size / 2)\n              }\n            })\n          })\n        })\n      });\n    }\n  }, {\n    key: \"drawT\",\n    value: function drawT() {\n      var pies = [];\n      if (this.state.pieSize.length === 0) return null;\n      for (var i = 0; i < this.state.pieSize.length; i++) {\n        pies.push(_jsx(View, {\n          style: {\n            transform: [{\n              rotate: this.state.piePos[i] + \"rad\"\n            }],\n            position: 'absolute'\n          },\n          children: this.drawPie(this.state.pieSize[i], this.state.colors[this.state.pieIndex[i]], true, i)\n        }, \"t\" + i));\n      }\n      return pies;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$state = this.state,\n        selectedIndex = _this$state.selectedIndex,\n        locationX = _this$state.locationX,\n        locationY = _this$state.locationY,\n        evtX = _this$state.evtX,\n        evtY = _this$state.evtY,\n        inPie = _this$state.inPie,\n        selectedAngle = _this$state.selectedAngle,\n        pieSize = _this$state.pieSize,\n        angles = _this$state.angles;\n      var size = this.props.size;\n      return _jsx(View, {\n        collapsable: false,\n        children: _jsx(TouchableWithoutFeedback, {\n          onPress: function onPress(e) {\n            _this4.handleEventOld(e);\n          },\n          children: _jsxs(View, {\n            ref: \"test\",\n            style: StyleSheet.flatten([styles.container, {\n              width: size,\n              height: size\n            }]),\n            children: [this.drawT(), this.drawInfoT(this.state.selectedIndex)]\n          })\n        })\n      });\n    }\n  }]);\n  return PieChart;\n}(React.Component);\nPieChart.defaultProps = {\n  data: [{\n    value: 10\n  }, {\n    value: 20\n  }, {\n    value: 40\n  }, {\n    value: 100\n  }],\n  colors: ['#009ef2', '#ff4d7d', '#00c4c3', '#ffd12f', '#e7e9ed'],\n  size: 200\n};\nvar styles = StyleSheet.create({\n  container: {\n    overflow: 'hidden',\n    marginLeft: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  tooltipTitle: {\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  tooltipValue: {\n    fontSize: 15,\n    marginTop: 5\n  }\n});\nexport default PieChart;","map":{"version":3,"names":["React","Component","Alert","AppRegistry","StyleSheet","View","Text","TouchableWithoutFeedback","TouchableOpacity","numberWithCommas","jsxs","_jsxs","jsx","_jsx","PieChart","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","drawPie","bind","_assertThisInitialized","initData","handleEvent","state","pieSize","piePos","oldPiePos","pieIndex","dataSum","currentPieIdx","evtX","evtY","selectedIndex","labels","colors","_createClass","key","value","componentDidMount","data","componentWillReceiveProps","nextProps","color","i","length","label","sum","angles","index","tempAngle","angle","Math","round","push","PI","setState","handleEventOld","evt","_this2","pageX","nativeEvent","pageY","size","refs","test","measure","fx","fy","width","height","px","py","originX","originY","rSquare","pow","dx","dy","rad","atan2","degree","inPie","selectedAngle","selectedRad","idx","handleEventBak","_this3","drawInfoOld","x","y","dist","pos","asin","marginLeft","marginTop","style","children","drawInfoT","cos","sin","percentage","valueStr","borderWidth","borderRadius","padding","borderColor","backgroundColor","flexDirection","paddingLeft","alignItems","marginRight","styles","tooltipTitle","tooltipValue","drawInfo","getTransform","add","arguments","undefined","translateX","translateY","rotate","big","transform","opacity","borderBottomRightRadius","drawT","pies","position","render","_this4","_this$state","locationX","locationY","collapsable","onPress","e","ref","flatten","container","defaultProps","create","overflow","justifyContent","fontSize","fontWeight"],"sources":["/Users/gauravjain/CodeTown/invictus-ui/node_modules/react-native-pure-chart/examples/pure-chart/components/pie-chart.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { Alert, AppRegistry, StyleSheet, View, Text, TouchableWithoutFeedback, TouchableOpacity } from 'react-native'\nimport { numberWithCommas } from '../common'\n\nclass PieChart extends React.Component {\n  constructor (props) {\n    super(props)\n    this.drawPie = this.drawPie.bind(this)\n    this.initData = this.initData.bind(this)\n    this.handleEvent = this.handleEvent.bind(this)\n    this.state = {\n      // pieSize[i] : size of ith pie, piePos[i] : starting position of ith pie;\n      pieSize: [],\n      piePos: [],\n      oldPiePos: [],\n      pieIndex: [],\n      dataSum: 0,\n      currentPieIdx: -1,\n      evtX: 0,\n      evtY: 0,\n      selectedIndex: -1,\n      labels: [],\n      colors: []\n    }\n  }\n  // initData!!\n  componentDidMount () {\n    this.initData(this.props.data)\n  }\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.data !== this.props.data) {\n      this.initData(nextProps.data)\n    }\n  }\n  // initialize data\n  initData (data) {\n    let colors = []\n    let labels = []\n    if (data[0].color) {\n      for (let i = 0; i < data.length; i++) {\n        colors[i] = data[i].color\n      }\n    } else {\n      for (let i = 0; i < data.length; i++) {\n        colors[i] = this.props.colors[i % this.props.colors.length]\n      }\n      if (data.length === this.props.colors.length + 1) {\n        // 임의로 3으로 지정함 바꿔도 무방\n        colors[data.length - 1] = this.props.colors[3]\n      }\n    }\n\n    if (data[0].label) {\n      for (let i = 0; i < data.length; i++) {\n        labels[i] = data[i].label\n      }\n    } else {\n      for (let i = 0; i < data.length; i++) {\n        labels[i] = null\n      }\n    }\n\n    // validation\n    let sum = 0\n    for (let i = 0; i < data.length; i++) {\n      sum += data[i].value\n    }\n    // pieSize에는 각각 라디안값이 들어감\n    let pieSize = []\n    let pieIndex = []\n    let angles = []\n    let index = 0\n    let tempAngle = 0\n    for (let i = 0; i < data.length; i++) {\n      let angle = Math.round(data[i].value / sum * 360)\n      angles.push(tempAngle + angle)\n      tempAngle = tempAngle + angle\n      if (data[i].value / sum * 2 * Math.PI > Math.PI) {\n        pieIndex.push(index)\n        pieIndex.push(index)\n        pieSize.push(Math.PI)\n        pieSize.push(data[i].value / sum * 2 * Math.PI - Math.PI)\n      } else {\n        pieIndex.push(index)\n        pieSize.push(data[i].value / sum * 2 * Math.PI)\n      }\n      index++\n    }\n    // piePos에는 각각 시작위치가 라디안 값으로 들어감\n    let piePos = []\n    piePos[0] = 0\n    for (let i = 1; i < pieSize.length; i++) {\n      piePos[i] = piePos[i - 1] + pieSize[i - 1]\n    }\n\n    let oldPiePos = []\n    for (let i = 0; i < this.props.data.length; i++) {\n      oldPiePos[i] = -1\n    }\n    for (let i = 0; i < piePos.length; i++) {\n      if (oldPiePos[pieIndex[i]] === -1) {\n        oldPiePos[pieIndex[i]] = piePos[i]\n      }\n    }\n\n    /*\n    for (let i = 0; i < this.props.data.length; i++) {\n      console.log(oldPiePos[i])\n    }\n    */\n\n    /*\n    for (let i = 0; i < data.length; i++) {\n      console.log(data[i].value)\n      console.log(labels[i])\n      console.log(colors[i])\n    }\n    */\n\n    this.setState({\n      labels: labels,\n      colors: colors,\n      pieSize: pieSize,\n      piePos: piePos,\n      selectedIndex: -1,\n      pieIndex: pieIndex,\n      angles: angles,\n      dataSum: sum,\n      oldPiePos: oldPiePos\n    })\n  }\n  handleEventOld (evt) {\n    /* this.setState({\n      evtX: evt.nativeEvent.pageX,\n      evtY: evt.nativeEvent.pageY\n    }) */\n    let pageX = evt.nativeEvent.pageX\n    let pageY = evt.nativeEvent.pageY\n    const {angles} = this.state\n    const {size} = this.props\n    this.refs.test.measure((fx, fy, width, height, px, py) => {\n      let evtX = pageX - px\n      let evtY = (pageY - py)\n      let originX = pageX - px - size / 2\n      let originY = size / 2 - (pageY - py)\n      let rSquare = Math.pow(originX, 2) + Math.pow(originY, 2)\n      let dx = originX\n      let dy = -1 * originY\n      let rad = Math.atan2(dy, dx)\n      let degree = (rad * 180) / Math.PI\n      if (degree < 0) degree = 360 + degree\n      let inPie = rSquare < Math.pow(size / 2, 2)\n      let selectedIndex = -1\n      if (inPie) {\n        for (let i = 0; i < angles.length; i++) {\n          if (degree < angles[i]) {\n            selectedIndex = i\n            break\n          }\n        }\n      }\n\n      this.setState({\n        evtX: evtX,\n        evtY: evtY,\n        originX: originX,\n        originY: originY,\n        inPie: inPie,\n        selectedAngle: degree,\n        selectedRad: rad,\n        selectedIndex: selectedIndex\n      })\n    })\n  }\n\n  handleEvent (idx) {\n //   console.log(idx)\n    this.setState({\n      currentPieIdx: this.state.pieIndex[idx]\n    })\n  }\n  /*\n  handleEvent (a, b, c) {\n    console.log(a)\n    console.log(b)\n    console.log(c)\n  }\n  */\n\n  handleEventBak (evt, idx) {\n    /* this.setState({\n      evtX: evt.nativeEvent.pageX,\n      evtY: evt.nativeEvent.pageY\n    }) */\n\n    // console.log(idx)\n    let pageX = evt.nativeEvent.pageX\n    let pageY = evt.nativeEvent.pageY\n    this.setState({\n      currentPieIdx: idx\n    })\n    this.refs.test.measure((fx, fy, width, height, px, py) => {\n      this.setState({\n        evtX: pageX - px,\n        evtY: pageY - py\n\n      })\n    })\n  }\n  drawInfoOld (x, y) {\n    const {size} = this.props\n    let dist = Math.pow(Math.pow(x, 2) + Math.pow(y, 2), 0.5)\n    // console.log('x: ' + x + '  y: ' + y)\n    if (dist <= size) {\n      let index = -1\n      // 중심 y축 기준으로 오른쪽 왼쪽\n      let pos = x > 0 ? Math.PI / 2 - Math.asin(y / dist) : Math.PI * 3 / 2 + Math.asin(y / dist)\n      // index 값 정하기 piePos piePos 값보다 pos값이 작을 경우 멈춤\n      for (let i = 0; i < this.state.piePos.length; i++) {\n        if (this.state.piePos[i] > pos) break\n        index++\n      }\n      let marginLeft = x\n      let marginTop = -y\n\n      return (\n        <View style={{\n          width: 100,\n          height: 80,\n          marginLeft: marginLeft,\n          marginTop: marginTop\n        }} >\n          <Text>{Math.round(this.state.pieSize[index] / (2 * Math.PI) * 10000) / 100 + '\\n' + this.state.value[index]} </Text>\n        </View>\n      )\n    }\n  }\n\n  drawInfoT (index) {\n    const {size} = this.props\n\n    let pos = (this.state.oldPiePos[index] + this.state.oldPiePos[(index + 1) % this.state.oldPiePos.length]) / 2\n    if (index + 1 === this.props.data.length) {\n      pos += Math.PI\n    }\n    let x = size / 4 * Math.cos(-pos) + size / 2\n    let y = -size / 4 * Math.sin(-pos) + size / 2\n\n    if (index !== -1) {\n      let percentage = Math.round((this.props.data[index].value * 1000 / this.state.dataSum)) / 10 + '%'\n      let valueStr = numberWithCommas(this.props.data[index].value, false)\n      return (\n        <View style={{\n          height: size\n        }}>\n          <View style={{\n            marginLeft: x - 60,\n            marginTop: y - 40,\n            borderWidth: 1,\n            borderRadius: 5,\n            padding: 5,\n            borderColor: '#e0e0e0',\n            backgroundColor: '#FFFFFF'\n          }}>\n            <View style={{flexDirection: 'row', paddingLeft: 5, alignItems: 'center'}}>\n              <View style={{\n                width: 10,\n                height: 5,\n                marginRight: 3,\n                borderRadius: 2,\n                backgroundColor: this.state.colors[index]\n              }} />\n              <Text style={styles.tooltipTitle}>{this.state.labels[index] ? this.state.labels[index] : valueStr}</Text>\n            </View>\n\n            <Text style={styles.tooltipValue}>{this.state.labels[index] ? `${valueStr} (${percentage})` : percentage}</Text>\n\n          </View>\n        </View>\n      )\n    }\n  }\n  drawInfo (index, x, y) {\n    const {size} = this.props\n    if (index !== -1) {\n      return (\n        <View style={{\n          width: size,\n          height: size\n        }}>\n          <View style={{\n            width: 60,\n            height: 80,\n            marginLeft: x - 30,\n            marginTop: y - 40,\n            borderWidth: 2,\n            borderRadius: 5,\n            borderColor: '#e0e0e0',\n            backgroundColor: '#FFFFFF'\n          }}>\n\n            {this.state.labels[index] !== null &&\n              <Text>{this.state.labels[index]}</Text>\n            }\n            <View style={{flexDirection: 'row', paddingLeft: 5, alignItems: 'center'}}>\n              <View style={{\n                width: 10,\n                height: 5,\n                marginRight: 3,\n                borderRadius: 2,\n                backgroundColor: this.state.colors[index]\n              }} />\n              <Text style={styles.tooltipValue}>{this.props.data[index].value}</Text>\n            </View>\n\n            <Text style={styles.tooltipValue}>{this.props.data[index].value * 100 / this.state.dataSum + '%'}</Text>\n\n          </View>\n        </View>\n      )\n    }\n  }\n\n  getTransform (rad, width, add = 0) {\n    let x = (0 - width / 2) * Math.cos(rad) - (0 - width / 2) * Math.sin(rad)\n    let y = (0 - width / 2) * Math.sin(rad) + (0 - width / 2) * Math.cos(rad)\n\n    return [ {translateX: (-1 * x) - width / 2 + add}, { translateY: (-1 * y) - width / 2 }, { rotate: rad + 'rad' } ]\n  }\n  drawPie (angle, color, big, idx) {\n    const {size} = this.props\n    return (\n      <View>\n        {angle === 0 ? (\n          <View />\n        ) : (\n          angle > (1 / 2 * Math.PI) ? (\n            <View>\n              <View style={{width: size, height: size / 2}} />\n              <View style={{flexDirection: 'row', backgroundColor: 'transparent'}}>\n\n                <View style={{\n\n                  width: size / 2,\n                  height: size / 2,\n\n                  transform: this.getTransform(Math.PI / 2, size / 2, size / 2)\n                }}>\n\n                  <View style={{\n                  }}>\n                    {this.drawPie(angle - 1 / 2 * Math.PI, color, false, idx)}\n                  </View>\n\n                </View>\n\n                <View style={{\n                  opacity: 1,\n\n                  width: size / 2,\n                  height: size / 2\n                }}>\n                  {this.drawPie(1 / 2 * Math.PI, color, false, idx)}\n                </View>\n\n              </View>\n            </View>\n\n        ) : (\n          // big 사용이유\n          big ? (\n            <View style={{\n              width: size,\n              height: size\n            }}>\n              <View style={{width: size, height: size / 2}} />\n              <View style={{flexDirection: 'row'}}>\n                <View style={{width: size / 2, height: size / 2}} />\n                <View style={{\n                  width: size / 2,\n                  height: size / 2\n                }}>\n\n                  <View style={{\n                    width: size / 2,\n                    height: size / 2,\n                    borderBottomRightRadius: size / 2,\n                    backgroundColor: color,\n                    transform: this.getTransform(angle - Math.PI / 2, size / 2)\n                  }} />\n\n                </View>\n\n              </View>\n            </View>\n          ) : (\n            <View style={{\n              width: size / 2,\n              height: size / 2\n            }}>\n\n              <View style={{\n                width: size / 2,\n                height: size / 2\n              }}>\n\n                <View style={{\n                  width: size / 2,\n                  height: size / 2,\n                  borderBottomRightRadius: size / 2,\n                  backgroundColor: color,\n                  borderWidth: 0,\n                  borderColor: color,\n                  transform: this.getTransform(angle - Math.PI / 2, size / 2)\n                }} />\n\n              </View>\n\n            </View>\n          )\n        ))}\n      </View>\n    )\n  }\n  drawT () {\n    let pies = []\n    if (this.state.pieSize.length === 0) return null\n    for (let i = 0; i < this.state.pieSize.length; i++) {\n      pies.push(\n        <View key={`t${i}`} style={{\n          transform: [{rotate: `${this.state.piePos[i]}rad`}],\n          position: 'absolute'\n\n        }}>\n          {\n            this.drawPie(this.state.pieSize[i], this.state.colors[this.state.pieIndex[i]], true, i)\n          }\n        </View>\n        )\n    }\n    return (\n      pies\n    )\n  }\n  render () {\n    const {selectedIndex, locationX, locationY, evtX, evtY, inPie, selectedAngle,\n      pieSize, angles} = this.state\n    const {size} = this.props\n    return (\n      <View collapsable={false}>\n\n        <TouchableWithoutFeedback onPress={(e) => {\n          // const {locationX, locationY} = e.nativeEvent\n          // console.log(locationX, locationY)\n          // this.setState({locationX: locationX, locationY: locationY})\n          this.handleEventOld(e)\n        }}>\n\n          <View ref='test' style={StyleSheet.flatten([styles.container, {\n            width: size,\n            height: size\n          }])}>\n\n            {this.drawT()}\n            {this.drawInfoT(this.state.selectedIndex)}\n          </View>\n\n        </TouchableWithoutFeedback>\n      </View>\n    )\n  }\n}\n\nPieChart.defaultProps = {\n  data: [{value: 10}, {value: 20}, {value: 40}, {value: 100}],\n  colors: ['#009ef2', '#ff4d7d', '#00c4c3', '#ffd12f', '#e7e9ed'],\n  size: 200\n}\nconst styles = StyleSheet.create({\n  container: {\n    overflow: 'hidden',\n    marginLeft: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  tooltipTitle: {fontSize: 18, fontWeight: 'bold'},\n  tooltipValue: {fontSize: 15, marginTop: 5}\n})\n\nexport default PieChart\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}